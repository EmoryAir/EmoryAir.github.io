<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8" />
    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:300|Open+Sans:300" rel="stylesheet">

    <title>MSC | Air Emory</title>

    <!-- include leaflet css and javascript -->
    <link rel="stylesheet" crossorigin="" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet-src.js"></script>
    <!--JQuery library-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- include our own css -->
    <link rel="stylesheet" href="style.css" />

    <!-- include w3.js javascript -->
    <script src="https://www.w3schools.com/lib/w3.js"></script>
    <!-- include highcharts.js -->
    <script src="https://code.highcharts.com/highcharts.js"></script>
   
    <!--include canvas.js -->
    <script type="text/javascript" src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
    <!--include css -->
    <link rel="stylesheet" type="text/css" href="mscData.css">
    <!--include javascript functions -->
    <script src="mscData.js"></script>

    <!-- we include the javascript at the bottom, see below -->

<style>
    body {
        padding: 2% 5%; 
        background-color: lightgrey;
        transition: margin-left .5s;
    }

    /* The sidebar menu */
    .sidebar {
        height: 100%; /* 100% Full-height */
        width: 0; /* 0 width - change this with JavaScript */
        position: fixed; /* Stay in place */
        z-index: 1; /* Stay on top */
        top: 0;
        left: 0;
        background-color: black; /* Black*/
        overflow-x: hidden; /* Disable horizontal scroll */
        padding-top: 60px; /* Place content 60px from the top */
        transition: 0.5s; /* 0.5 second transition effect to slide in the sidebar */
        color: white;
    }
    /* Position and style the close button (top right corner) */
    .sidebar .closebtn {
        position: absolute;
        top: 0;
        right: 25px;
        font-size: 36px;
        margin-left: 50px;
        color: white;
    }
    /* The button used to open the sidebar */
    .openbtn {
        font-size: 20px;
        cursor: pointer;
        background-color: black;
        color: white;
        padding: 10px 15px;
        border-radius: 50%;
    }
    .openbtn:hover {
        background-color: #444;
    }
    label {
        display: block;
    }
    input {
        font-size: 20px;
    }
    .grid-analytics {
        display: grid;
        grid-gap: 2px 15px;
        grid-template-columns: 1fr 1fr 1fr 1fr;
        width: 90%;
        margin: auto;
    }
    .item {
        background-color: #8FC1E3;
        padding: 5px;
        text-align: center;
        color: white;
        border-top-left-radius: 5px;
        border-top-right-radius: 5px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .numbers {
        background-color: #ECECEC;
        padding: 5px;
        height: 90px;
        text-align: center;
        font-size: 25px;
        border-bottom-left-radius: 5px;
        border-bottom-right-radius: 5px;
        border-style: solid;
        border-color: #8FC1E3;
        border-width: 1px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .grid-body {
        display: grid;
        position: relative;
        grid-gap: 5px;
        grid-template-rows: 1fr 1fr 50px 1fr 1fr;
        margin: auto;
        width: 100%;
        top: 30px;
    }
    .graph {
        position: relative;
        text-align: center;
        width: 100%;
    }
    .title {
        position: relative;
        text-align: center;
        font-size: 20px;
        width:100%;
    }
    #todayTitle {
        grid-row-start: 1;
        grid-row-end: 2;
    }
    #todayGraph {
        grid-row-start: 2;
        grid-row-end: 3;
    }
    #hourlyTitle {
        grid-row-start: 4;
        grid-row-end: 5;
    }
    #hourlyGraph {
        grid-row-start: 5;
        grid-row-end: 6;
    }
    footer {
        top: 70px;
    }
</style>
</head>


<div w3-include-html="nav.html"></div>
<script> w3.includeHTML(); </script>


<body>
     <div id="toggle">
                <button class="openbtn" onclick="openNav()">&#9776;</button> 
                <span>Data Options</span>
    </div>

    <h1>Math and Science Center</h1>

    <div id="mySidebar" class="sidebar">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <div id="pickDate" style="text-align: center;">
            <label for="start">Date:</label>
            <input type="date" id="start" name="date-start" value="" min="2019-06-01" max="maxDate()">
        </div>
        <div id="submitForm" style="text-align: center;">
            <button type="submit" id="submitBtn" name="submit" onclick="dateChange(object, document.getElementById('start').value)">Submit</button>
        </div>
    </div>

    <div class="grid-analytics">
        <div class="item">Date</div>
        <div class="item">Average PM<sub>2.5</div>
        <div class="item">Average Temperature</div>
        <div class="item">Average Relative Humidity</div>
        <div class="numbers" id="date"></div>
        <div class="numbers" id="pm25" style="font-size: 25px;"></div>
        <div class="numbers" id="temperature" style="font-size: 25px;"></div>
        <div class="numbers" id="relhumid" style="font-size: 25px;"></div>
    </div>
    
    <div id="rawChartContainer" style="position: relative; top: 50px"></div>
    <div id="hourlyChartContainer" style="position: relative; top: 100px"></div>

    <script>
        var defaultUrl = "https://spreadsheets.google.com/feeds/list/1IpmZM0CTu4Ju2vR9nNPbUOFKtJNHCO69ydEH9vAtxWI/1/public/values?alt=json"; 
        setDateInput();
        showDate();
        averages(defaultUrl, maxDate());
        initChart(object, defaultUrl, maxDate());
    </script>

    <!-- include our own javascript -->
    <script src="main.js"></script>
<!--
 <h3>View all of our data <a href="https://docs.google.com/spreadsheets/d/1IpmZM0CTu4Ju2vR9nNPbUOFKtJNHCO69ydEH9vAtxWI/edit?usp=sharing" target="_blank">here</a>.
    </h3> -->

</body>
<footer>
    Contact us at <a href="mailto:emoryaq@gmail.com">emoryaq@gmail.com</a>
</footer>
</html>
